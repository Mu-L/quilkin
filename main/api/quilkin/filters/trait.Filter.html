<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait for routing and manipulating packets."><meta name="keywords" content="rust, rustlang, rust-lang, Filter"><title>Filter in quilkin::filters - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../quilkin/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait Filter</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.read">read</a><a href="#method.write">write</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">quilkin</a>::<wbr><a href="index.html">filters</a></h2><div id="sidebar-vars" data-name="Filter" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">quilkin</a>::<wbr><a href="index.html">filters</a>::<wbr><a class="trait" href="#">Filter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/quilkin/filters.rs.html#81-104" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait Filter: <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.56.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    fn <a href="#method.read" class="fnname">read</a>(&amp;self, ctx: <a class="struct" href="prelude/struct.ReadContext.html" title="struct quilkin::filters::prelude::ReadContext">ReadContext</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="prelude/struct.ReadResponse.html" title="struct quilkin::filters::prelude::ReadResponse">ReadResponse</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.write" class="fnname">write</a>(&amp;self, ctx: <a class="struct" href="prelude/struct.WriteContext.html" title="struct quilkin::filters::prelude::WriteContext">WriteContext</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="prelude/struct.WriteResponse.html" title="struct quilkin::filters::prelude::WriteResponse">WriteResponse</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait for routing and manipulating packets.</p>
<p>An implementation of <a href="trait.Filter.html" title="Filter"><code>Filter</code></a> provides a <code>read</code> and a <code>write</code> method. Both
methods are invoked by the proxy when it consults the filter chain - their
arguments contain information about the packet being processed.</p>
<ul>
<li><code>read</code> is invoked when a packet is received on the local downstream port
and is to be sent to an upstream endpoint.</li>
<li><code>write</code> is invoked in the opposite direction when a packet is received
from an upstream endpoint and is to be sent to a downstream client.</li>
</ul>
<p><strong>Metrics</strong></p>
<ul>
<li>
<p><code>filter_read_duration_seconds</code> The duration it took for a <code>filter</code>’s
<code>read</code> implementation to execute.</p>
<ul>
<li>Labels
<ul>
<li><code>filter</code> The name of the filter being executed.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>filter_write_duration_seconds</code> The duration it took for a <code>filter</code>’s
<code>write</code> implementation to execute.</p>
<ul>
<li>Labels
<ul>
<li><code>filter</code> The name of the filter being executed.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></details><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.read" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/quilkin/filters.rs.html#90-92" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.read" class="fnname">read</a>(&amp;self, ctx: <a class="struct" href="prelude/struct.ReadContext.html" title="struct quilkin::filters::prelude::ReadContext">ReadContext</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="prelude/struct.ReadResponse.html" title="struct quilkin::filters::prelude::ReadResponse">ReadResponse</a>&gt;</h4></div></summary><div class="docblock"><p><a href="trait.Filter.html#method.read" title="Filter::read"><code>Filter::read</code></a> is invoked when the proxy receives data from a
downstream connection on the listening port.</p>
<p>This function should return a <a href="prelude/struct.ReadResponse.html" title="ReadResponse"><code>ReadResponse</code></a> containing the array of
endpoints that the packet should be sent to and the packet that should
be sent (which may be manipulated) as well. If the packet should be
rejected, return <a href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html#variant.None" title="None"><code>None</code></a>.  By default, the context passes
through unchanged.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.write" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/quilkin/filters.rs.html#101-103" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.write" class="fnname">write</a>(&amp;self, ctx: <a class="struct" href="prelude/struct.WriteContext.html" title="struct quilkin::filters::prelude::WriteContext">WriteContext</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="prelude/struct.WriteResponse.html" title="struct quilkin::filters::prelude::WriteResponse">WriteResponse</a>&gt;</h4></div></summary><div class="docblock"><p><a href="trait.Filter.html#method.write" title="Filter::write"><code>Filter::write</code></a> is invoked when the proxy is about to send data to a
downstream connection via the listening port after receiving it via one
of the upstream Endpoints.</p>
<p>This function should return an <a href="prelude/struct.WriteResponse.html" title="WriteResponse"><code>WriteResponse</code></a> containing the packet to
be sent (which may be manipulated). If the packet should be rejected,
return <a href="https://doc.rust-lang.org/1.56.0/core/option/enum.Option.html#variant.None" title="None"><code>None</code></a>. By default, the context passes through unchanged.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/quilkin/filters/trait.Filter.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="quilkin" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>